[gd_scene load_steps=11 format=2]

[ext_resource path="res://Scenes/Entities/Mamerto AI.gd" type="Script" id=1]
[ext_resource path="res://2D/Mamerto 01/Front/front.png" type="Texture" id=2]
[ext_resource path="res://Scenes/Entities/AI/CHASING.gd" type="Script" id=3]
[ext_resource path="res://Scenes/Entities/AI/IDLE.gd" type="Script" id=4]
[ext_resource path="res://Scenes/Entities/AI/FAR.gd" type="Script" id=5]

[sub_resource type="CapsuleShape" id=1]

radius = 0.05819
height = 0.198992

[sub_resource type="SpatialMaterial" id=2]

flags_transparent = true
flags_unshaded = true
params_depth_draw_mode = 3
params_billboard_mode = 1

[sub_resource type="SpriteFrames" id=3]

animations = [ {
"frames": [ ExtResource( 2 ) ],
"loop": true,
"name": "Front",
"speed": 5.0
} ]

[sub_resource type="CylinderShape" id=4]

radius = 0.432041
height = 0.594338

[sub_resource type="CylinderShape" id=5]

radius = 2.00319
height = 0.778271

[node name="RigidBody" type="RigidBody" groups=[
"Enemies",
]]
mode = 2
contacts_reported = 1
contact_monitor = true
script = ExtResource( 1 )

[node name="CollisionShape" type="CollisionShape" parent="."]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0 )
shape = SubResource( 1 )

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]

[node name="AnimatedSprite3D" type="AnimatedSprite3D" parent="."]
transform = Transform( 1, 0, 0, 0, 0.707107, 0.707107, 0, -0.707107, 0.707107, 0, 0, 0 )
material_override = SubResource( 2 )
frames = SubResource( 3 )
animation = "Front"

[node name="STATES" type="Node" parent="."]

[node name="CHASING" type="Node" parent="STATES"]
script = ExtResource( 3 )

[node name="IDLE" type="Node" parent="STATES"]
script = ExtResource( 4 )

[node name="FAR" type="Node" parent="STATES"]
script = ExtResource( 5 )

[node name="Near" type="Area" parent="."]

[node name="CollisionShape" type="CollisionShape" parent="Near"]
shape = SubResource( 4 )

[node name="Far" type="Area" parent="."]

[node name="CollisionShape" type="CollisionShape" parent="Far"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0795093, 0 )
shape = SubResource( 5 )

[node name="Timer" type="Timer" parent="."]

[connection signal="body_entered" from="Near" to="." method="_Near_entered"]
[connection signal="body_exited" from="Near" to="." method="_Near_exited"]
[connection signal="body_entered" from="Far" to="." method="_Far_entered"]
[connection signal="body_exited" from="Far" to="." method="_Far_exited"]
[connection signal="timeout" from="Timer" to="STATES/CHASING" method="_Timer_timeout"]
