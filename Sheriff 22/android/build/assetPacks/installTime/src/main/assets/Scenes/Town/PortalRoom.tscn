[gd_scene load_steps=11 format=2]

[ext_resource path="res://Scenes/Town/Map/PortalRoom2D.tscn" type="PackedScene" id=1]
[ext_resource path="res://Scenes/Town/GridMap/GridMap Town.tres" type="MeshLibrary" id=2]
[ext_resource path="res://Scenes/Town/GridMap/GridMap Town 2.tres" type="MeshLibrary" id=3]
[ext_resource path="res://Code/Town/3D JRPG Camera/Camera.tscn" type="PackedScene" id=4]
[ext_resource path="res://Scenes/Player 3D/Player.tscn" type="PackedScene" id=5]
[ext_resource path="res://Scenes/Town/Buildings/TownPortal.tscn" type="PackedScene" id=6]

[sub_resource type="ViewportTexture" id=5]
viewport_path = NodePath("Viewport")

[sub_resource type="SpatialMaterial" id=4]
resource_local_to_scene = true
albedo_texture = SubResource( 5 )

[sub_resource type="QuadMesh" id=1]

[sub_resource type="ConcavePolygonShape" id=2]
data = PoolVector3Array( -0.5, -0.5, 0, -0.5, 0.5, 0, 0.5, 0.5, 0, -0.5, -0.5, 0, 0.5, 0.5, 0, 0.5, -0.5, 0 )

[node name="PortalRoom" type="Spatial"]

[node name="Ground" type="MeshInstance" parent="."]
transform = Transform( 10, 0, 0, 0, -4.37114e-07, 1, 0, -10, -4.37114e-08, 0, 0, 0 )
material_override = SubResource( 4 )
mesh = SubResource( 1 )
material/0 = null

[node name="StaticBody" type="StaticBody" parent="Ground"]

[node name="CollisionShape" type="CollisionShape" parent="Ground/StaticBody"]
shape = SubResource( 2 )

[node name="Viewport" type="Viewport" parent="."]
size = Vector2( 120, 120 )
transparent_bg = true

[node name="PortalRoom2D" parent="Viewport" instance=ExtResource( 1 )]

[node name="Fences" type="Spatial" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.473749, 0 )

[node name="Fence" type="GridMap" parent="Fences"]
mesh_library = ExtResource( 2 )
cell_size = Vector3( 1, 1, 1 )
data = {
"cells": PoolIntArray( 4, 0, 1441792, 65531, 0, 1441792, 4, 1, 1441792, 65531, 1, 1441792, 4, 2, 1441792, 65531, 2, 1441792, 4, 3, 1441792, 65531, 3, 1441792, 4, 4, 1441792, 65531, 4, 1441792, 4, 65531, 1441792, 65531, 65531, 1441792, 4, 65532, 1441792, 65531, 65532, 1441792, 4, 65533, 1441792, 65531, 65533, 1441792, 4, 65534, 1441792, 65531, 65534, 1441792, 4, 65535, 1441792, 65531, 65535, 1441792 )
}
__meta__ = {
"_editor_clip_": 0,
"_editor_floor_": Vector3( 0, 0, 0 )
}

[node name="Fence2" type="GridMap" parent="Fences"]
mesh_library = ExtResource( 3 )
cell_size = Vector3( 1, 1, 1 )
data = {
"cells": PoolIntArray( 0, 4, 655360, 1, 4, 655360, 2, 4, 655360, 3, 4, 655360, 4, 4, 655360, 65531, 4, 655360, 65532, 4, 655360, 65533, 4, 655360, 65534, 4, 655360, 65535, 4, 655360, 0, 65531, 655360, 1, 65531, 655360, 2, 65531, 655360, 3, 65531, 655360, 4, 65531, 655360, 65531, 65531, 655360, 65532, 65531, 655360, 65533, 65531, 655360, 65534, 65531, 655360, 65535, 65531, 655360 )
}
__meta__ = {
"_editor_clip_": 0,
"_editor_floor_": Vector3( 0, 0, 0 )
}

[node name="CameraFollow" parent="." instance=ExtResource( 4 )]
transform = Transform( -1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, -0.0352135, 0, -4.8448 )
current = true
Angle = 25.0
YHeight = 3.0
speed = 3.0
StartOffset = Vector2( 0, -3 )
ZMargin = Vector2( 0, 2 )
XMargin = 2.0

[node name="Player" parent="." instance=ExtResource( 5 )]
transform = Transform( -1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0.286656, 0.454775, -3.30251 )

[node name="Hard" parent="." instance=ExtResource( 6 )]
transform = Transform( 0.79981, 0, 0.600253, 0, 1, 0, -0.600253, 0, 0.79981, 3.1106, 0, 2.67711 )
Dif = 3

[node name="Normal" parent="." instance=ExtResource( 6 )]
transform = Transform( 0.576388, 0, -0.691214, 0, 0.95, 0, 0.691214, 0, 0.576388, -2.92629, 0, 2.67711 )
Dif = 2

[node name="Easy" parent="." instance=ExtResource( 6 )]
transform = Transform( 0.699978, 0, 0.00552216, 0, 0.7, 0, -0.00552216, 0, 0.699978, -0.0999012, 0, -0.0986319 )
Dif = 1
